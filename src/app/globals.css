@import "tailwindcss";

/* Quill Editor Styles */
@import "quill/dist/quill.snow.css";

/* Configure dark mode variant for class-based switching */
@variant dark (&:where(.dark, .dark *));

/* Base theme variables */
:root {
  /* Semantic color tokens */
  --color-background: 255 255 255;
  --color-foreground: 0 0 0;
  --color-muted: 245 245 245;
  --color-muted-foreground: 115 115 115;
  --color-border: 229 229 229;
  --color-accent: 245 245 245;
  --color-accent-foreground: 0 0 0;
  
  /* Font families */
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* Dark theme overrides */
.dark {
  --color-background: 0 0 0;
  --color-foreground: 255 255 255;
  --color-muted: 26 26 26;
  --color-muted-foreground: 163 163 163;
  --color-border: 64 64 64;
  --color-accent: 26 26 26;
  --color-accent-foreground: 255 255 255;
}

/* Apply theme to body */
body {
  background-color: rgb(var(--color-background));
  color: rgb(var(--color-foreground));
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* Configure Tailwind to use our custom properties */
@theme inline {
  --color-background: rgb(var(--color-background));
  --color-foreground: rgb(var(--color-foreground));
  --color-muted: rgb(var(--color-muted));
  --color-muted-foreground: rgb(var(--color-muted-foreground));
  --color-border: rgb(var(--color-border));
  --color-accent: rgb(var(--color-accent));
  --color-accent-foreground: rgb(var(--color-accent-foreground));
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* Custom styles for Quill Editor */
.ql-editor {
  font-family: var(--font-sans);
  color: rgb(var(--color-foreground));
  background-color: rgb(var(--color-background));
}

.ql-toolbar {
  border-color: rgb(var(--color-border)) !important;
  background-color: rgb(var(--color-muted));
}

.ql-container {
  border-color: rgb(var(--color-border)) !important;
  background-color: rgb(var(--color-background));
}

/* Dark mode adjustments for Quill */
.dark .ql-toolbar {
  background-color: rgb(var(--color-muted));
  border-color: rgb(var(--color-border)) !important;
}

.dark .ql-container {
  background-color: rgb(var(--color-background));
  border-color: rgb(var(--color-border)) !important;
}

.dark .ql-editor {
  color: rgb(var(--color-foreground));
  background-color: rgb(var(--color-background));
}

/* Prompt placeholder styles */
.prompt-placeholder {
  cursor: pointer;
  transition: all 0.2s ease;
}

.prompt-placeholder:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(59, 130, 246, 0.15);
}

/* Article image styles */
.ql-editor img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  margin: 8px 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.dark .ql-editor img {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

/* Quill color picker styles */
.ql-snow .ql-picker {
  color: rgb(var(--color-foreground));
}

.ql-snow .ql-picker-options {
  background-color: rgb(var(--color-background));
  border: 1px solid rgb(var(--color-border));
  border-radius: 4px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.dark .ql-snow .ql-picker-options {
  background-color: rgb(var(--color-background));
  border-color: rgb(var(--color-border));
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

/* Style the color dropdowns */
.ql-snow .ql-color .ql-picker-label,
.ql-snow .ql-background .ql-picker-label {
  border: 1px solid rgb(var(--color-border));
  border-radius: 2px;
}

.ql-snow .ql-color .ql-picker-label:before,
.ql-snow .ql-background .ql-picker-label:before {
  height: 16px;
  width: 16px;
}

/* Line clamp utilities for text truncation */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}

.line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
}

.line-clamp-3 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
}

.line-clamp-none {
  overflow: visible;
  display: block;
  -webkit-box-orient: horizontal;
  -webkit-line-clamp: none;
}

/* Touch manipulation for better mobile interaction */
.touch-manipulation {
  touch-action: manipulation;
}
